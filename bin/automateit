#!/usr/bin/env ruby

# TODO parse arguments
# TODO only run IRB if asked
# TODO create an automateitsh wrapper

libdir = File.expand_path(File.join(File.dirname(__FILE__), "..", "lib"))
$LOAD_PATH.unshift(libdir) if File.directory?(libdir) and File.exists?(File.join(libdir, "automateit.rb"))

require "automateit"

# We want an options array
opts = {}

# Are we interactive or are we running a recipe?
# FIXME replace
if ARGV.size > 0
  opts[:recipe] = ARGV.first
end

# We don't want our arguments passed to IRB
opts[:argv] = ARGV.clone
ARGV.clear

AutomateIt::CLI.new(opts)
